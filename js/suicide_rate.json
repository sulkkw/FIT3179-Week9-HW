{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": { "text": "World Suicide Rate (1985-2016)", "font": "sans-serif","fontSize": {"expr": "20"}},
    "width": 800,
    "height": 400,
    "projection": {"type": "equalEarth"},
    "data": {
      "url": "https://github.com/sulkkw/FIT3179-Week9-HW/blob/main/js/basemap.json",
      "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
    }, 
    "transform": [
        {
          "lookup": "properties.NAME",
          "from": {
            "data": {
              "url": "https://github.com/sulkkw/FIT3179-Week9-HW/blob/main/Data/suicides_by_country_100k.csv"
            },
            "key": "country",
            "fields": ["suicides_per_100k"]
          }
        },
        {"calculate": "datum.suicides_per_100k + 0.1", "as": "Suicides Rate Per 100k"}
      ], 
      "mark": {"type": "geoshape"},
    "encoding": {
    "color": {
      "field": "Suicides Rate Per 100k",
      "type": "quantitative",
      "scale": {"type": "log"}
    },
    "tooltip": [
      {"field": "properties.NAME", "type": "nominal", "title": "Country"},
      {"field": "suicides_per_100k", "type": "quantitative"}
    ]
   }
  }

